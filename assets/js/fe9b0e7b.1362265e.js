"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6197],{9437:(e,i,o)=>{o.r(i),o.d(i,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var t=o(5893),n=o(1151);const s={title:"Apollo Studio",description:"Learn to enhance your GraphQL server's efficiency by integrating Tailcall with Apollo Studio through our concise guide. Discover how to configure Tailcall to send vital usage metrics to Apollo Studio, enabling advanced performance monitoring and optimization. Whether you're establishing a Monolith graph or improving an existing one, our instructions will facilitate a seamless integration. This guide helps you set up for better insights and also advises on leveraging Apollo Studio's features for a more responsive GraphQL server. Start optimizing today with our straightforward steps, and explore how to access Apollo Studio's free trial for new users."},r=void 0,a={id:"guides/apollo-studio",title:"Apollo Studio",description:"Learn to enhance your GraphQL server's efficiency by integrating Tailcall with Apollo Studio through our concise guide. Discover how to configure Tailcall to send vital usage metrics to Apollo Studio, enabling advanced performance monitoring and optimization. Whether you're establishing a Monolith graph or improving an existing one, our instructions will facilitate a seamless integration. This guide helps you set up for better insights and also advises on leveraging Apollo Studio's features for a more responsive GraphQL server. Start optimizing today with our straightforward steps, and explore how to access Apollo Studio's free trial for new users.",source:"@site/docs/guides/apollo-studio.md",sourceDirName:"guides",slug:"/guides/apollo-studio",permalink:"/docs/guides/apollo-studio",draft:!1,unlisted:!1,editUrl:"https://github.com/tailcallhq/tailcallhq.github.io/tree/develop/docs/guides/apollo-studio.md",tags:[],version:"current",frontMatter:{title:"Apollo Studio",description:"Learn to enhance your GraphQL server's efficiency by integrating Tailcall with Apollo Studio through our concise guide. Discover how to configure Tailcall to send vital usage metrics to Apollo Studio, enabling advanced performance monitoring and optimization. Whether you're establishing a Monolith graph or improving an existing one, our instructions will facilitate a seamless integration. This guide helps you set up for better insights and also advises on leveraging Apollo Studio's features for a more responsive GraphQL server. Start optimizing today with our straightforward steps, and explore how to access Apollo Studio's free trial for new users."},sidebar:"tutorialSidebar",previous:{title:"Execute",permalink:"/docs/getting_started/execute"},next:{title:"CLI",permalink:"/docs/guides/cli"}},l={},c=[{value:"Creating a monolith graph",id:"creating-a-monolith-graph",level:2},{value:"Check the metrics in Apollo Studio",id:"check-the-metrics-in-apollo-studio",level:2}];function d(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.p,{children:["This guide illustrates how to configure ",(0,t.jsx)(i.code,{children:"tailcall"})," to send usage metrics to ",(0,t.jsx)(i.a,{href:"https://studio.apollographql.com",children:"Apollo Studio"}),".",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),"\n",(0,t.jsxs)(i.em,{children:["Note: Before proceeding make sure you have an Apollo Enterprise account. If not, you can get a free 28 days trial by going ",(0,t.jsx)(i.a,{href:"https://studio.apollographql.com/signup?type=enterprise-trial",children:"here"}),"."]})]}),"\n",(0,t.jsx)(i.h2,{id:"creating-a-monolith-graph",children:"Creating a monolith graph"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Before you configure ",(0,t.jsx)(i.code,{children:"tailcall"}),", you will need to create a ",(0,t.jsx)(i.code,{children:"Monolith"})," graph on Apollo Studio."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"home.png",src:o(3983).Z+"",width:"1512",height:"859"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Go to your organization's home page and click on ",(0,t.jsx)(i.code,{children:"Create your first graph"}),", if this is your first graph or ",(0,t.jsx)(i.code,{children:"Create New Graph"})," if you have existing graphs."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"create-graph.png",src:o(8686).Z+"",width:"1512",height:"859"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Change the ",(0,t.jsx)(i.code,{children:"Graph title"}),", ",(0,t.jsx)(i.code,{children:"Graph ID"})," and other fields as desired and make sure to change ",(0,t.jsx)(i.code,{children:"Graph Architecture"})," to Monolith, assuming ",(0,t.jsx)(i.code,{children:"tailcall"})," is booted in monolith mode."]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Once you are done, click on ",(0,t.jsx)(i.code,{children:"Next"}),". You'll see the following screen."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"insert-gql-schema.png",src:o(2154).Z+"",width:"1512",height:"859"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Copy the fields ",(0,t.jsx)(i.code,{children:"APOLLO_KEY"})," and ",(0,t.jsx)(i.code,{children:"APOLLO_GRAPH_REF"})," as they are required by ",(0,t.jsx)(i.code,{children:"tailcall"})," to be able to send the usage metrics."]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Navigate to ",(0,t.jsx)(i.code,{children:"Local Schema"})," and insert your schema generated by ",(0,t.jsx)(i.code,{children:"tailcall"})," and click ",(0,t.jsx)(i.code,{children:"Upload"}),".",(0,t.jsx)("br",{}),(0,t.jsxs)(i.em,{children:["Note: you can get the schema by running ",(0,t.jsx)(i.code,{children:"tailcall check --schema <path-to-config>"})]})," (click ",(0,t.jsx)(i.a,{href:"/docs/guides/cli#schema",children:"here"})," to know more)."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"local-schema.png",src:o(1723).Z+"",width:"1512",height:"858"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["You have now created a Monolith graph in Apollo Studio. The next step is to configure ",(0,t.jsx)(i.code,{children:"tailcall"})," to use the ",(0,t.jsx)(i.code,{children:"APOLLO_API_KEY"})," and ",(0,t.jsx)(i.code,{children:"APOLLO_GRAPH_REF"}),". Follow detailed instructions ",(0,t.jsx)(i.a,{href:"/docs/operators/telemetry",children:"here"}),"."]}),"\n",(0,t.jsx)(i.h2,{id:"check-the-metrics-in-apollo-studio",children:"Check the metrics in Apollo Studio"}),"\n",(0,t.jsx)(i.p,{children:"To see the metrics for you queries follow these instructions:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Start ",(0,t.jsx)(i.code,{children:"tailcall"})," with the appropriate configuration for Apollo (click ",(0,t.jsx)(i.a,{href:"/docs/guides/cli#start",children:"here"})," to know more)."]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Create a query like below and run it multiple times to send it to Apollo Studio."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-graphql",children:"query MyQuery {\n  posts {\n    id\n    title\n  }\n}\n"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["To see the metrics click on the ",(0,t.jsx)(i.code,{children:"VARIANT NAME"})," of your graph. In the example below, the variant name is ",(0,t.jsx)(i.code,{children:"current"}),"."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"graph-home.png",src:o(9756).Z+"",width:"1512",height:"858"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"You will see the following page. From here click on insights icon as highlighted on the left side of the image."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"insights-nav.png",src:o(31).Z+"",width:"1512",height:"859"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"You will now be able to see all the information related to your queries here"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"insights.png",src:o(2967).Z+"",width:"1512",height:"858"})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"insights-graph.png",src:o(8570).Z+"",width:"1512",height:"858"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.admonition,{type:"important",children:(0,t.jsx)(i.p,{children:"If you don't see the name of your query here, try running the query multiple times and waiting for some time. Since the metric isn't sent to Apollo Studio for each query, instead they are batched together and sent at once for efficiency reasons."})})]})}function h(e={}){const{wrapper:i}={...(0,n.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8686:(e,i,o)=>{o.d(i,{Z:()=>t});const t=o.p+"assets/images/create-graph-892b392dcd3a45324ee1ed4e1f6308e9.png"},9756:(e,i,o)=>{o.d(i,{Z:()=>t});const t=o.p+"assets/images/graph-home-d178d98e3c2a411742976f88d024fbc8.png"},3983:(e,i,o)=>{o.d(i,{Z:()=>t});const t=o.p+"assets/images/home-ada6303c27e51080da6a6062f4c5d344.png"},2154:(e,i,o)=>{o.d(i,{Z:()=>t});const t=o.p+"assets/images/insert-gql-schema-0166976f93d19777515be63d501a3e2a.png"},8570:(e,i,o)=>{o.d(i,{Z:()=>t});const t=o.p+"assets/images/insights-graph-95cb953964c9911c79c8468f75319ab3.png"},31:(e,i,o)=>{o.d(i,{Z:()=>t});const t=o.p+"assets/images/insights-nav-75aaccd68308dd407bd65666bdbb4048.png"},2967:(e,i,o)=>{o.d(i,{Z:()=>t});const t=o.p+"assets/images/insights-ae5962b534a5bb30e7e2e437c1dbe4ac.png"},1723:(e,i,o)=>{o.d(i,{Z:()=>t});const t=o.p+"assets/images/local-schema-260d71dcc1770dca21bdbb6cc920e683.png"},1151:(e,i,o)=>{o.d(i,{Z:()=>a,a:()=>r});var t=o(7294);const n={},s=t.createContext(n);function r(e){const i=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),t.createElement(s.Provider,{value:i},e.children)}}}]);