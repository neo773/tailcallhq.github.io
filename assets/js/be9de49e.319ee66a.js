"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5149],{9583:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>c,toc:()=>o});var i=t(5893),r=t(1151);const a={title:"@expr"},s=void 0,c={id:"directives/expr",title:"@expr",description:"The @expr directive in GraphQL is a powerful tool for embedding data directly into your schema, offering two primary functionalities:",source:"@site/docs/directives/expr.md",sourceDirName:"directives",slug:"/directives/expr",permalink:"/docs/directives/expr",draft:!1,unlisted:!1,editUrl:"https://github.com/tailcallhq/tailcallhq.github.io/tree/develop/docs/directives/expr.md",tags:[],version:"current",frontMatter:{title:"@expr"},sidebar:"tutorialSidebar",previous:{title:"@call",permalink:"/docs/directives/call"},next:{title:"@graphQL",permalink:"/docs/directives/graphql"}},l={},o=[{value:"Static",id:"static",level:2},{value:"Dynamic",id:"dynamic",level:2}];function d(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"@expr"})," directive in GraphQL is a powerful tool for embedding data directly into your schema, offering two primary functionalities:"]}),"\n",(0,i.jsx)(n.h2,{id:"static",children:"Static"}),"\n",(0,i.jsx)(n.p,{children:"This feature allows for the inclusion of a constant response within the schema definition itself. It is useful for scenarios where the response is unchanging. e.g:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-graphql",children:'schema {\n  query: Query\n}\n\ntype Query {\n  user: User @expr(body: {name: "John", age: 12})\n}\n\ntype User {\n  name: String\n  age: Int\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"@expr"})," directive also checks the provided value at compile time to ensure it matches the field's schema. If not, the console displays a descriptive error message."]}),"\n",(0,i.jsx)(n.h2,{id:"dynamic",children:"Dynamic"}),"\n",(0,i.jsxs)(n.p,{children:["Beyond static data embedding, the ",(0,i.jsx)(n.code,{children:"@expr"})," directive extends its utility to support dynamic data injection through Mustache template syntax. This feature enables the use of placeholders within the constant data, which are then dynamically replaced with actual values at runtime. It supports both scalar values and complex objects, including lists and nested objects, offering flexibility in tailoring responses to specific needs. e.g:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-graphql",children:'schema {\n  query: Query\n}\n\ntype Query {\n  user: User\n    @expr(\n      body: {\n        name: "John"\n        workEmail: "john@xyz.com"\n        personalEmail: "john@xyz.com"\n      }\n    )\n}\n\ntype User {\n  name: String\n  age: Int\n  personalEmail: String\n  workEmail: String\n  emails: Emails\n    @expr(\n      body: {\n        emails: {\n          workEmail: "{{.value.workEmail}}"\n          personalEmail: "{{.value.personalEmail}}"\n        }\n      }\n    )\n}\n\ntype Emails {\n  workEmail: String\n  personalEmail: String\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["In this example, the ",(0,i.jsx)(n.code,{children:"@expr"})," directive dynamically generate an ",(0,i.jsx)(n.code,{children:"Emails"})," object based on the provided template data. The placeholders within the template (",(0,i.jsx)(n.code,{children:"{{.value.workEmail}}"})," and ",(0,i.jsx)(n.code,{children:"{{.value.personalEmail}}"}),") gets replaced with the actual values specified in the ",(0,i.jsx)(n.code,{children:"User"})," type, allowing for dynamic content generation while still adhering to the schema's structure."]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>c,a:()=>s});var i=t(7294);const r={},a=i.createContext(r);function s(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);