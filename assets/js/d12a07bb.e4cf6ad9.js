"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[318],{6249:(e,l,t)=>{t.r(l),t.d(l,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>n,metadata:()=>o,toc:()=>d});var i=t(4848),s=t(8453);const n={title:"Github Action for Deploying GraphQL",sidebar_label:"Deployments",description:"Deploy GraphQL servers effortlessly with GitHub Actions.",slug:"deploy-graphql-github-actions"},c=void 0,o={id:"gh-action",title:"Github Action for Deploying GraphQL",description:"Deploy GraphQL servers effortlessly with GitHub Actions.",source:"@site/docs/gh-action.md",sourceDirName:".",slug:"/deploy-graphql-github-actions",permalink:"/docs/deploy-graphql-github-actions",draft:!1,unlisted:!1,editUrl:"https://github.com/tailcallhq/tailcallhq.github.io/tree/develop/docs/gh-action.md",tags:[],version:"current",lastUpdatedAt:171973222e4,frontMatter:{title:"Github Action for Deploying GraphQL",sidebar_label:"Deployments",description:"Deploy GraphQL servers effortlessly with GitHub Actions.",slug:"deploy-graphql-github-actions"},sidebar:"docs",previous:{title:"Honeycomb",permalink:"/docs/graphql-honeycomb-telemetry-tailcall"},next:{title:"Deploy on Fly",permalink:"/docs/deploy-tailcall-graphql-fly-actions"}},r={},d=[{value:"Deploying to Fly",id:"deploying-to-fly",level:2},{value:"Inputs for <code>tailcallhq/gh-action</code>",id:"inputs-for-tailcallhqgh-action",level:3},{value:"Deploying to AWS Lambda",id:"deploying-to-aws-lambda",level:2},{value:"Inputs for <code>tailcallhq/gh-action</code>",id:"inputs-for-tailcallhqgh-action-1",level:3}];function a(e){const l={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.p,{children:["The Github Action ",(0,i.jsx)(l.a,{href:"https://github.com/tailcallhq/gh-action",children:"tailcallhq/gh-action"})," can be used to easily deploy a ",(0,i.jsx)(l.code,{children:"tailcall"})," server to any supported cloud provider. Currently, AWS Lambda and Fly are supported."]}),"\n",(0,i.jsx)(l.h2,{id:"deploying-to-fly",children:"Deploying to Fly"}),"\n",(0,i.jsxs)(l.p,{children:["Below is an example of how to deploy a ",(0,i.jsx)(l.code,{children:"tailcall"})," server to Fly using the ",(0,i.jsx)(l.code,{children:"tailcallhq/gh-action"})," action."]}),"\n",(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-yaml",children:'on: [push]\n\njobs:\n  deploy_tailcall:\n    runs-on: ubuntu-latest\n    name: Deploy Tailcall\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v2\n      - name: Deploy Tailcall\n        id: deploy-tailcall\n        uses: tailcallhq/gh-action@<version> # Replace <version> with the desired version\n        with:\n          provider: "fly" # Specifies the cloud provider as \'fly\'\n          fly-api-token: ${{ secrets.FLY_API_TOKEN }}\n          fly-app-name: "tailcall"\n          fly-region: "lax"\n          tailcall-config: "config.graphql"\n'})}),"\n",(0,i.jsxs)(l.h3,{id:"inputs-for-tailcallhqgh-action",children:["Inputs for ",(0,i.jsx)(l.code,{children:"tailcallhq/gh-action"})]}),"\n",(0,i.jsxs)(l.p,{children:["Following are the inputs for the ",(0,i.jsx)(l.code,{children:"tailcallhq/gh-action"})," action when deploying to Fly:"]}),"\n",(0,i.jsxs)(l.table,{children:[(0,i.jsx)(l.thead,{children:(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.th,{children:"Input"}),(0,i.jsx)(l.th,{children:"Description"})]})}),(0,i.jsxs)(l.tbody,{children:[(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"provider"})}),(0,i.jsxs)(l.td,{children:["When deploying to Fly, this should be set to ",(0,i.jsx)(l.code,{children:"fly"}),"."]})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"tailcall-config"})}),(0,i.jsxs)(l.td,{children:["The path of the ",(0,i.jsx)(l.code,{children:"tailcall"})," configuration file."]})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"tailcall-version"})}),(0,i.jsxs)(l.td,{children:["Specifies the version of ",(0,i.jsx)(l.code,{children:"tailcall"})," to use for deployment. If not provided, the Action defaults to the latest available version."]})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"fly-api-token"})}),(0,i.jsx)(l.td,{children:"The Fly API token required for authentication. Ensure this value is stored securely, such as in GitHub Secrets."})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"fly-app-name"})}),(0,i.jsxs)(l.td,{children:["The name of the Fly app being deployed. Defaults to ",(0,i.jsx)(l.code,{children:"<orgname>-<reponame>"})," if not specified."]})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"fly-region"})}),(0,i.jsxs)(l.td,{children:["The region where the Fly app will be deployed. Defaults to ",(0,i.jsx)(l.code,{children:"ord"})," if not specified."]})]})]})]}),"\n",(0,i.jsx)(l.h2,{id:"deploying-to-aws-lambda",children:"Deploying to AWS Lambda"}),"\n",(0,i.jsx)(l.pre,{children:(0,i.jsx)(l.code,{className:"language-yaml",children:'on: [push]\n\njobs:\n  deploy_tailcall:\n    runs-on: ubuntu-latest\n    name: Deploy Tailcall\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v2\n      - name: Deploy Tailcall\n        id: deploy-tailcall\n        uses: tailcallhq/gh-action@<version> # Replace <version> with the desired version\n        with:\n          provider: "aws"\n          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}\n          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n          aws-region: "us-east-1"\n          aws-iam-role: "iam_for_tailcall"\n          terraform-api-token: ${{ secrets.TERRAFORM_API_TOKEN }}\n          tailcall-config: "config.graphql"\n'})}),"\n",(0,i.jsxs)(l.h3,{id:"inputs-for-tailcallhqgh-action-1",children:["Inputs for ",(0,i.jsx)(l.code,{children:"tailcallhq/gh-action"})]}),"\n",(0,i.jsxs)(l.p,{children:["Following are the inputs for the ",(0,i.jsx)(l.code,{children:"tailcallhq/gh-action"})," action when deploying to AWS Lambda:"]}),"\n",(0,i.jsxs)(l.table,{children:[(0,i.jsx)(l.thead,{children:(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.th,{children:"Input"}),(0,i.jsx)(l.th,{children:"Description"})]})}),(0,i.jsxs)(l.tbody,{children:[(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"provider"})}),(0,i.jsxs)(l.td,{children:["When deploying to AWS Lambda, this should be set to ",(0,i.jsx)(l.code,{children:"aws"}),"."]})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"tailcall-config"})}),(0,i.jsxs)(l.td,{children:["The path to the ",(0,i.jsx)(l.code,{children:"tailcall"})," configuration file used for deployment."]})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"tailcall-version"})}),(0,i.jsxs)(l.td,{children:["Specifies the version of ",(0,i.jsx)(l.code,{children:"tailcall"})," to use for deployment. If not provided, the Action defaults to the latest available version."]})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"aws-access-key-id"})}),(0,i.jsx)(l.td,{children:"The AWS access key ID required for authentication. Ensure this value is stored securely, such as in GitHub Secrets."})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"aws-secret-access-key"})}),(0,i.jsx)(l.td,{children:"The AWS secret access key required for authentication. Store this securely, such as in GitHub Secrets."})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"aws-region"})}),(0,i.jsxs)(l.td,{children:["The AWS region where the Lambda function will be deployed (e.g., ",(0,i.jsx)(l.code,{children:"us-east-1"}),")."]})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"aws-iam-role"})}),(0,i.jsxs)(l.td,{children:["The IAM role name to be created and used for the deployment. If not specified, defaults to ",(0,i.jsx)(l.code,{children:"iam_for_tailcall"}),"."]})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"aws-lambda-function-name"})}),(0,i.jsxs)(l.td,{children:["The name assigned to the created Lambda function. Defaults to ",(0,i.jsx)(l.code,{children:"tailcall"})," if not specified."]})]}),(0,i.jsxs)(l.tr,{children:[(0,i.jsx)(l.td,{children:(0,i.jsx)(l.code,{children:"terraform-api-token"})}),(0,i.jsx)(l.td,{children:"The Terraform Cloud API token required for authentication. Ensure this value is stored securely, such as in GitHub Secrets."})]})]})]})]})}function h(e={}){const{wrapper:l}={...(0,s.R)(),...e.components};return l?(0,i.jsx)(l,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);